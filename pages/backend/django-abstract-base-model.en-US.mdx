---
title: Using one model into another model without saving in DB in Django
image: https://course.oc-static.com/courses/7107341/7107341_teaser_picture_1633008310.jpg
description: "What is abstract base class"
date: October 10th, 2022
---

import Callout from 'nextra-theme-docs/callout'
import Bleed from 'nextra-theme-docs/bleed'

# Using one model into another model without saving in DB in Django

While I was creating letsh application, I thought that there must be some data that could be <ins>shared</ins> throughout data no matter what they are.
The best example for this could be time that data was newly created or updated.
If I include these data, then admin users later will be able to easily control over those data based on those time data.

<br/>

## Abstract base model

However, including all these common data into all other apps' models is just repeating codes ourselves and it could waste our DB.
So it would be very effective to make these types of models that <ins>**_do not wasting too much DB space and can be used in other models_**</ins>.

This is where <a href="https://docs.djangoproject.com/en/4.1/topics/db/models/#abstract-base-classes" target="_blank">abstract base model</a> is used.
After I defined the common data fields, with using <a href="https://docs.python.org/3/tutorial/classes.html#inheritance" target="_blank">class inheritance</a>
other apps' models can also use Common model's data fields.

<br/>

## Coding

### Creating app

Let's create `common` app with the following command. This is where we are going to define our common models.

```bash
django-admin startapp common
```

<br/>

After that, let's include `common` app in our `settings.py`.
I separated <a href="https://docs.djangoproject.com/en/4.1/ref/settings/#installed-apps" target="_blank"><code>INSTALLED_APPS</code></a> in certain ways before my application gets too complicated.

1. `DJANGO_APPS`: Pre-installed Django apps
2. `THIRDPARTY_APPS`: Any third-party libraries
3. `MANUALLY_INSTALLED_APPS`: Apps that I installed by myself

<br/>

and bundled them all up with `INSTALLED_APPS`.

```py config/settings.py
DJANGO_APPS = [
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",
]

THIRDPARTY_APPS = []

MANUALLY_INSTALLED_APPS = [
    "common.apps.CommonConfig",
]

INSTALLED_APPS = DJANGO_APPS + THIRDPARTY_APPS + MANUALLY_INSTALLED_APPS
```

<br/>

### Creating model

Let's edit `models.py` file inside of `common/` app folder.

<CH.Scrollycoding>

#### Creating model class

I created class named `TimeStampModel` that controls over time of data has been created/updated.

```py focus=3:7
from django.db import models

class TimeStampModel(models.Model):

    """TimeStamp Model Definition"""

    pass
```

---

#### `Meta` class configuration

<a href="https://docs.djangoproject.com/en/4.1/topics/db/models/#meta-options" target="_blank"><code>Meta</code> class</a> allows us to do several configurations for our models.
As our `TimeStampModel` is abstract base model, I set `abstract = True` as explained in <a href="https://docs.djangoproject.com/en/4.1/topics/db/models/#abstract-base-classes" target="_blank">documentation</a>.

By doing this, we can use these fields in other models without creating DB table.

```py focus=9:10
from django.db import models

class TimeStampModel(models.Model):

    """TimeStamp Model Definition"""

    pass

    class Meta:
        abstract = True
```

---

#### `DateTimeField`

Finally, let's specify model field.

As you can literally tell from its name, <a href="https://docs.djangoproject.com/en/4.1/ref/models/fields/#django.db.models.DateTimeField" target="_blank"><code>DateTimeField</code></a>
controls date and time.
I created model field called `created_at` and `updated_at` for created time and updated time, respectively.

Meanwhile, <a href="https://docs.djangoproject.com/en/4.1/ref/models/fields/#django.db.models.DateField.auto_now_add" target="_blank"><code>auto_now_add</code></a> attribute sets date and time as now
when new object is <ins>newly created</ins>.

On the other hand, <a href="https://docs.djangoproject.com/en/4.1/ref/models/fields/#django.db.models.DateField.auto_now" target="_blank"><code>auto_now</code></a> attribute marks date and time as now
when the object is <ins>newly updated</ins>.

```py focus=7:8
from django.db import models

class TimeStampModel(models.Model):

    """TimeStamp Model Definition"""

    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        abstract = True
```

</CH.Scrollycoding>

<br/>

## Reference

- <a href="https://dev.to/sankalpjonna/using-abstract-models-in-django-1igi" target="_blank">Using abstract models in Django</a>
