# 더미 데이터

## 디버깅

### TypeError: make_aware() got an unexpected keyword argument 'is_dst'

#### 문제 발생

django-seed 패키지를 이용하여 더미 데이터를 만들기 위해 터미널 창에 다음 명령어를 기입했다.

```bash
python manage.py seed users --number=10
```

그러나 다음과 같은 에러가 발생하였다.

```bash
Traceback (most recent call last):
  File "/Users/apensia/dev/knower-admin/manage.py", line 32, in <module>
    main()
  File "/Users/apensia/dev/knower-admin/manage.py", line 28, in main
    execute_from_command_line(sys.argv)
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django/core/management/base.py", line 413, in run_from_argv
    self.execute(*args, **cmd_options)
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django/core/management/base.py", line 459, in execute
    output = self.handle(*args, **options)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django/core/management/base.py", line 646, in handle
    app_output = self.handle_app_config(app_config, **options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/management/commands/seed.py", line 63, in handle_app_config
    generated = seeder.execute()
                ^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/seeder.py", line 250, in execute
    executed_entity = entity.execute(using, inserted_entities)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/seeder.py", line 157, in execute
    faker_data = {
                 ^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/seeder.py", line 158, in <dictcomp>
    field: format_field(field_format, inserted_entities)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/seeder.py", line 144, in format_field
    return format(inserted_entities)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/guessers.py", line 120, in <lambda>
    return lambda x: _timezone_format(faker.date_time())
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/apensia/dev/knower-admin/venv/lib/python3.11/site-packages/django_seed/guessers.py", line 21, in _timezone_format
    return timezone.make_aware(value, timezone.get_current_timezone(), is_dst=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: make_aware() got an unexpected keyword argument 'is_dst'
```

#### 분석

django-seed Github repo에 제기된 이슈를 살펴보던 도중 Django 버전 5 이상에서 날짜 데이터를 기입할 때 해당 에러가 발생하는 것을 알 수 있었다.
버전 5로 업그레이드되면서 `is_dst` 인자를 더 이상 받지 않기 때문.

#### 해결

[salimbyte의 조언](https://github.com/Brobin/django-seed/issues/119#issuecomment-2141574298)에 따라 [`USE_TZ`](https://docs.djangoproject.com/en/dev/ref/settings/#std-setting-USE_TZ)의 값을
`False`로 설정하여 해결하였다.

```py
# settings.py

USE_TZ = False
```
